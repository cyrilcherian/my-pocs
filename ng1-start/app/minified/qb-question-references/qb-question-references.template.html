<div class="question-create__block" flex layout="column"><md-content><div class="question-create__section-header"><p class="md-title"><span style="color:red" ng-if="$ctrl.view !== 'review'">*</span>References</p><span class="question-create__instructions" ng-if="$ctrl.view !== 'review'"><p>Provide 2-3 references that support your item.</p></span></div><!-- /.question-create__section-header --><div ng-repeat="reference in $ctrl.data" class="question-references-list__item"><ng-form name="referenceForm"><div ng-if="$ctrl.isEdit(reference)" flex layout="column" layout-gt-xs="row" layout-align="start center"><div class="question-references-list__input-wrap"><span layout="column" layout-gt-xs="row" layout-align-gt-xs="start center"><md-input-container md-no-float class="question-references-list__input-url" flex><input ng-model="reference.url" placeholder="URL" name="url"></md-input-container><md-input-container md-no-float class="question-references-list__input-text" flex><input type="text" ng-model="reference.name" placeholder="Text To Display" name="name" required><div ng-messages="referenceForm.name.$error"><div ng-message="required" ng-if="referenceForm.name.$error.required && referenceForm.name.$touched">Please enter the reference name</div></div></md-input-container></span></div><!-- /.question-references-list__input-wrap --><div class="question-references-list__actions"><span class="question-references-list__save"><md-button ng-if="$ctrl.view !== 'review'" ng-disabled="referenceForm.name.$error.required" flex="22" ng-click="$ctrl.saveEditedReference(reference, referenceForm)" class="md-primary md-raised">Save</md-button></span><div ng-if="$ctrl.view !== 'review'"><md-button class="md-icon-button" aria-label="Remove" ng-click="$ctrl.delete(reference)"><md-tooltip md-direction="top">Remove</md-tooltip><ng-md-icon icon="clear"></ng-md-icon></md-button></div></div><!-- /.question-references-list__actions --></div></ng-form><div ng-if="!$ctrl.isEdit(reference)" layout="row" flex><span ng-if="$ctrl.isValidUrl(reference.url)" class="question-references-list__link-icon"><ng-md-icon icon="link"></ng-md-icon></span><span ng-click="!$ctrl.isValidUrl(reference.url) || $ctrl.openReference(reference)" ng-class="{'url' : reference.url}" flex>{{reference.name}}</span><div ng-if="$ctrl.view !== 'review'"><md-button class="md-icon-button" aria-label="Remove" ng-click="$ctrl.edit(reference)"><md-tooltip md-direction="top">Edit</md-tooltip><ng-md-icon icon="mode_edit"></ng-md-icon></md-button></div><div ng-if="$ctrl.view !== 'review'" ng-click="$ctrl.delete(reference)"><md-button class="md-icon-button" aria-label="Remove" ng-click="$ctrl.delete(reference)"><md-tooltip md-direction="top">Remove</md-tooltip><ng-md-icon icon="clear"></ng-md-icon></md-button></div></div></div><!-- /.question-references-list__item --><div ng-if="$ctrl.data.length === 0" class="empty">This question currently has no references.</div><span><md-button ng-if="$ctrl.view !== 'review'" ng-click="$ctrl.addReference()" class="md-primary">Add Reference</md-button></span></md-content></div><!-- /.question-create__block -->