<md-dialog aria-label="Search Assignments" ng-cloak style="width:100%;height:100%"><form name="assignmentFilter"><md-toolbar layout="row" layout-align="space-between center"><h1 class="md-toolbar-tools">Filter Assignments</h1><md-button class="md-icon-button" ng-click="$ctrl.cancel($event)"><ng-md-icon icon="close" aria-label="Close dialog"></ng-md-icon></md-button></md-toolbar><md-dialog-content layout="column"><div class="dialog-content-group"><div class="dialog-content"><md-content><div ng-if="$ctrl.searchFilterFields.customIds.visible('customIds')"><div class="question-create__block question-create__block--question-type" flex layout="column"><div class="question-create__section-header"><p class="md-title">Assignment ID</p></div><!-- /.question-create__section-header --><md-chips ng-model="$ctrl.presets.selectedModels.customIds" md-autocomplete-snap md-require-match="true" filter-selected="true" md-removable="true" md-add-on-blur="true" md-on-add="$ctrl.onAddChip($chip, $ctrl.chips.customIds.selectedItem,$ctrl.chips.customIds.searchText, item)" input-aria-label="assignment customid search" md-transform-chip="ctrl.transformChip($chip)"><md-autocomplete md-input-minlength="0" md-selected-item="$ctrl.chips.customIds.selectedItem" md-search-text="$ctrl.chips.customIds.searchText" md-items="item in $ctrl.assignmentSearch($ctrl.chips.customIds.searchText,$ctrl.presets.customIds)" md-item-text="item.value" placeholder="Assignment ID"><span md-highlight-text="$ctrl.chips.customIds.searchText">{{item.value}}</span></md-autocomplete><md-chip-template><span><strong>{{$chip.value}}</strong></span></md-chip-template></md-chips></div><!-- /.question-create__block --><md-divider></md-divider></div><div class="question-create__block question-create__block--question-type" flex layout="column"><div class="question-create__section-header"><p class="md-title">Title</p></div><!-- /.question-create__section-header --><md-input-container flex md-no-float ng-if="$ctrl.searchFilterFields.name.visible('name')"><input type="text" ng-model="$ctrl.assignmentFilter.name" name="name" placeholder="Title"></md-input-container></div><!-- /.question-create__block --><md-divider></md-divider><div class="question-create__block question-create__block--question-type" flex layout="column"><div class="question-create__section-header"><p class="md-title">Description</p></div><!-- /.question-create__section-header --><md-input-container flex md-no-float ng-if="$ctrl.searchFilterFields.description.visible('description')"><input type="text" ng-model="$ctrl.assignmentFilter.description" name="description" placeholder="Description"></md-input-container></div><!-- /.question-create__block --><md-divider></md-divider><div class="question-create__block question-create__block--question-type" flex layout="column"><div class="question-create__section-header"><p class="md-title">Type</p></div><!-- /.question-create__section-header --><md-input-container class="md-block" flex ng-if="$ctrl.searchFilterFields.kind.visible('kind')"><md-select ng-model="$ctrl.assignmentFilter.kind" multiple="multiple"><md-option ng-value="$ctrl.constants.assignmentKind.QUESTION_CREATE">Create Questions Assignment</md-option><md-option ng-value="$ctrl.constants.assignmentKind.QUESTION_REVIEW">Review Assignment</md-option><md-option ng-value="$ctrl.constants.assignmentKind.QUESTION_REVISION">Question Edit Assignment</md-option></md-select></md-input-container></div><!-- /.question-create__block --><md-divider></md-divider><div class="question-create__block question-create__block--question-type" flex layout="column"><div class="question-create__section-header"><p class="md-title">Status</p></div><!-- /.question-create__section-header --><md-input-container class="md-block" flex ng-if="$ctrl.searchFilterFields.statuses.visible('statuses')"><md-select ng-model="$ctrl.assignmentFilter.statuses" multiple="multiple"><md-option ng-value="'Todo'">To Do</md-option><md-option ng-value="'AssignedByMe'" ng-if="$ctrl.role.admin || $ctrl.role.editor">Assigned By Me</md-option><md-option ng-value="'Draft'" ng-if="$ctrl.role.admin || $ctrl.role.editor">Draft</md-option><md-option ng-value="'AssignedByOthers'" ng-if="$ctrl.role.admin || $ctrl.role.editor">Assigned By Others</md-option><md-option ng-value="'Done'">Done</md-option><md-option ng-value="'Submitted'" ng-if="$ctrl.role.author || $ctrl.role.reviewer">Submitted</md-option></md-select></md-input-container></div><!-- /.question-create__block --><md-divider></md-divider><div class="question-create__block question-create__block--question-type" flex layout="column" ng-if="$ctrl.searchFilterFields.lastModifiedDate.visible('lastModifiedDate')" ng-if="$ctrl.role.admin || $ctrl.role.editor"><div class="question-create__section-header"><p class="md-title">Last Modification Date</p></div><!-- /.question-create__section-header --><div layout="row" layout-align="start center"><label style="width: 50px">From</label><md-datepicker ng-model="$ctrl.presets.lastModifiedDate.startDate" md-placeholder="From Date"></md-datepicker></div><div layout="row" layout-align="start center"><label style="width: 50px">To</label><md-datepicker ng-model="$ctrl.presets.lastModifiedDate.endDate" md-placeholder="To Date"></md-datepicker></div></div><!-- /.question-create__block --><md-divider></md-divider><div class="question-create__block question-create__block--question-type" flex layout="column" ng-if="$ctrl.searchFilterFields.creationDate.visible('creationDate')"><div class="question-create__section-header"><p class="md-title">Creation Date</p></div><!-- /.question-create__section-header --><div layout="row" layout-align="start center"><label style="width: 50px">From</label><md-datepicker ng-model="$ctrl.presets.creationDate.startDate" md-placeholder="From Date"></md-datepicker></div><div layout="row" layout-align="start center"><label style="width: 50px">To</label><md-datepicker ng-model="$ctrl.presets.creationDate.endDate" md-placeholder="To Date"></md-datepicker></div></div><!-- /.question-create__block --><md-divider></md-divider><div class="question-create__block question-create__block--question-type" flex layout="column" ng-if="$ctrl.searchFilterFields.dueDate.visible('dueDate')"><div class="question-create__section-header"><p class="md-title">Due Date</p></div><!-- /.question-create__section-header --><div layout="row" layout-align="start center"><label style="width: 50px">From</label><md-datepicker ng-model="$ctrl.presets.dueDate.startDate" md-placeholder="From Date"></md-datepicker></div><div layout="row" layout-align="start center"><label style="width: 50px">To</label><md-datepicker ng-model="$ctrl.presets.dueDate.endDate" md-placeholder="To Date"></md-datepicker></div></div><!-- /.question-create__block --><md-divider></md-divider><div class="question-create__block question-create__block--question-type" flex layout="column" ng-if="$ctrl.searchFilterFields.completedDate.visible('completedDate')"><div class="question-create__section-header"><p class="md-title">Completed Date</p></div><!-- /.question-create__section-header --><div layout="row" layout-align="start center"><label style="width: 50px">From</label><md-datepicker ng-model="$ctrl.presets.completedDate.startDate" md-placeholder="From Date"></md-datepicker></div><div layout="row" layout-align="start center"><label style="width: 50px">To</label><md-datepicker ng-model="$ctrl.presets.completedDate.endDate" md-placeholder="To Date"></md-datepicker></div></div><!-- /.question-create__block --><md-divider></md-divider><div class="question-create__block question-create__block--question-type" flex layout="column" ng-if="$ctrl.searchFilterFields.assignees.visible('assignees')"><div class="question-create__section-header"><p class="md-title">Assignees</p></div><!-- /.question-create__section-header --><md-chips ng-model="$ctrl.presets.selectedModels.assignees" md-autocomplete-snap md-require-match="true" filter-selected="true" md-removable="true" md-add-on-blur="true" md-on-add="$ctrl.onAddChip($chip, $ctrl.chips.assignees.selectedItem,$ctrl.chips.assignees.searchText, item)" input-aria-label="assignee search" md-transform-chip="ctrl.transformChip($chip)"><md-autocomplete md-input-minlength="0" md-selected-item="$ctrl.chips.assignees.selectedItem" md-search-text="$ctrl.chips.assignees.searchText" md-items="item in $ctrl.querySearch($ctrl.chips.assignees.searchText,$ctrl.presets.assignees)" md-item-text="item.name" placeholder="Assignees"><span md-highlight-text="$ctrl.chips.assignees.searchText">{{item.name}}</span></md-autocomplete><md-chip-template><span><strong>{{$chip.name}}</strong></span></md-chip-template></md-chips></div><!-- /.question-create__block --><md-divider></md-divider><div class="question-create__block question-create__block--question-type" flex layout="column" ng-if="$ctrl.searchFilterFields.assignors.visible('assignors')"><div class="question-create__section-header"><p class="md-title">Assignors</p></div><!-- /.question-create__section-header --><md-chips ng-model="$ctrl.presets.selectedModels.assignors" md-autocomplete-snap md-require-match="true" filter-selected="true" md-removable="true" md-add-on-blur="true" md-on-add="$ctrl.onAddChip($chip, $ctrl.chips.assignors.selectedItem,$ctrl.chips.assignors.searchText, item)" input-aria-label="assignors search" md-transform-chip="ctrl.transformChip($chip)"><md-autocomplete md-input-minlength="0" md-selected-item="$ctrl.chips.assignors.selectedItem" md-search-text="$ctrl.chips.assignors.searchText" md-items="item in $ctrl.querySearch($ctrl.chips.assignors.searchText,$ctrl.presets.assignors)" md-item-text="item.name" placeholder="Assignors"><span md-highlight-text="$ctrl.chips.assignors.searchText">{{item.name}}</span></md-autocomplete><md-chip-template><span><strong>{{$chip.name}}</strong></span></md-chip-template></md-chips></div><!-- /.question-create__block --><md-divider></md-divider><div class="question-create__block question-create__block--question-type" flex layout="column" ng-if="$ctrl.searchFilterFields.sortBy.visible('sortBy')"><div class="question-create__section-header"><p class="md-title">Sort By</p></div><!-- /.question-create__section-header --><md-input-container><md-select ng-model="$ctrl.sort.order" placeholder="Order By" ng-change="$ctrl.sortBy()"><md-option ng-value="field.key" ng-repeat="field in $ctrl.sort.orderFields">{{field.field}}</md-option></md-select></md-input-container><md-input-container class="md-block" flex><md-select ng-model="$ctrl.sort.sortByValue" ng-change="$ctrl.sortBy()"><md-option ng-value="'customId'">Assignment ID</md-option><md-option ng-value="'name'">Title</md-option><md-option ng-value="'description'">Description</md-option><md-option ng-value="'kind'">Assignment Type</md-option><md-option ng-value="'status'">Assignment Status</md-option><md-option ng-value="'lastModificationDate'">Last Modified Date</md-option><md-option ng-value="'creationDate'">Creation Date</md-option><md-option ng-value="'dueDate'">Due Date</md-option><md-option ng-value="'assignees'">Assignees</md-option></md-select></md-input-container></div><!-- /.question-create__block --></md-content></div><!-- /.dialog-content --><md-divider></md-divider></div><!-- /.dialog-content-group --></md-dialog-content><md-dialog-actions><div class="dialog-actions-group"><div class="dialog-actions" layout="row"><span flex></span><md-button ng-click="$ctrl.cancel()" class="">Cancel</md-button><md-button ng-click="$ctrl.filter()" class="md-primary">Filter</md-button></div><!-- /.dialog-actions --></div><!-- /.dialog-actions-group --></md-dialog-actions></form></md-dialog>