<div id="questionBank" flex layout="column"><form name="questionBank"><div class="bank-criteria-group-panel"><md-expansion-panel md-component-id="criteria"><md-expansion-panel-collapsed style="align-items: center"><div class="md-title">Criteria</div><span flex></span><md-expansion-panel-icon></md-expansion-panel-icon></md-expansion-panel-collapsed><md-expansion-panel-expanded><md-expansion-panel-header ng-click="$panel.collapse()"><div class="md-title">Criteria</div><span flex></span><md-expansion-panel-icon></md-expansion-panel-icon></md-expansion-panel-header><md-expansion-panel-content flex ng-class="{'empty-panel': $ctrl.hasElements()}"><md-content ng-if="!$ctrl.hasElements()"><div layout="row" layout-align="start center" class="bank-criteria-group"><span>{{$ctrl.EMPTY_CRITERIA}}</span> <span flex></span> <span><md-button class="md-raised md-primary" ng-click="$ctrl.setCriteria($event)">Set</md-button></span></div></md-content><div class="bank-criteria-group"><qb-criteria-add all="$ctrl.allCriteria" criteria="$ctrl.criteria"></qb-criteria-add></div><!-- /.bank-criteria-group --><md-button ng-if="$ctrl.hasElements()" class="md-raised md-primary" ng-click="$ctrl.setCriteria($event)">Set</md-button></md-expansion-panel-content></md-expansion-panel-expanded></md-expansion-panel></div><!-- /.bank-criteria-group-panel --><div class="bg-white md-whiteframe-1dp"><div class="bank-create__block"><div class="bank-create__ctrl-holder"><div class="bank-create__ctrl-holder-input"><md-input-container md-no-float><input type="text" required ng-model="$ctrl.bank.name" placeholder="Title" aria-label="title" name="bankName"><div ng-messages="questionBank.bankName.$error"><div ng-message="required" ng-if="questionBank.bankName.$error.required && questionBank.bankName.$touched">Bank name is required.</div></div></md-input-container></div><!-- /.bank-create__ctrl-holder-input --></div><!-- /.bank-create__ctrl-holder --><div class="bank-create__ctrl-holder"><div class="bank-create__ctrl-holder-input"><md-input-container md-no-float><textarea type="text" required name="description" ng-model="$ctrl.bank.description" placeholder="Description" aria-label="description"></textarea><div ng-messages="questionBank.description.$error"><div ng-message="required" ng-if="questionBank.description.$error.required && questionBank.description.$touched">Bank description is required.</div></div></md-input-container></div><!-- /.bank-create__ctrl-holder-input --></div><!-- /.bank-create__ctrl-holder --></div><!-- /.bank-create__block --><md-divider></md-divider><div class="bank-create__block"><md-list ng-cloak class="question-display-list"><md-list-item ng-repeat="question in  $ctrl.questions" class="question-display-list__item"><span class="question-display-list__text"><h3>{{question.customId| numberFixedLen:5}}</h3><p>{{question.stem + " " + question.question| htmlFilter |characters: $ctrl.wordLimit(question)}} <a ng-if="!question.moreShown && $ctrl.hasMore(question)" ng-click="$ctrl.showMore(question, $event)">More</a> <a ng-if="question.moreShown" ng-click="$ctrl.showLess(question, $event)">Less</a></p></span><span><md-button class="md-icon-button" aria-label="View" ng-click="$ctrl.preview(question.id, $event)"><md-tooltip md-direction="top">View</md-tooltip><ng-md-icon icon="remove_red_eye"></ng-md-icon></md-button></span><span><md-button class="md-icon-button" aria-label="Remove" ng-click="$ctrl.removeData($ctrl.questions, question)"><md-tooltip md-direction="top">Remove</md-tooltip><ng-md-icon icon="clear"></ng-md-icon></md-button></span><md-divider></md-divider></md-list-item></md-list><md-content ng-if="$ctrl.questions.length === 0"><div flex layout="row" layout-align="end center"><div flex>This question bank currently has no questions</div><md-button class="md-raised md-primary" ng-click="$ctrl.addQuestion($event)">ADD QUESTION</md-button></div></md-content><md-content ng-if="$ctrl.questions.length > 0"><div class="create-count-footer"><div class="create-count-footer__col create-count-footer__col--count"><ng-pluralize count="$ctrl.questions.length" when="{'0': '','one': '1 Question','other': '{} Questions'}"></ng-pluralize></div><!-- /.create-count-footer__col --><div class="create-count-footer__col create-count-footer__col--button"><md-button class="md-fab md-mini md-primary" ng-click="$ctrl.addQuestion($event)"><md-tooltip md-direction="top">Add Questions</md-tooltip><ng-md-icon icon="add" aria-label="Add"></ng-md-icon></md-button></div><!-- /.create-count-footer__col --></div><!-- /.create-count-footer --></md-content></div><!-- /.bank-create__block --></div><!-- /bg --></form></div>