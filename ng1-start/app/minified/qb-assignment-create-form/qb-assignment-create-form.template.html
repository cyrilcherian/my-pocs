<div class="main-body-container"><div layout="row" layout-margin><div flex class="bg-white md-whiteframe-1dp"><div class="assignment-create-group"><div ng-class="$ctrl.getKindClass()"><md-content id="assignment"><div class="assignment-create__block"><div class="assignment-create__subheader"><h2 class="md-title">Assignment Details</h2></div><!-- /.assignment-create__subheader --><div class="assignment-create__input-container"><md-input-container md-no-float><input type="text" ng-model="$ctrl.assignment.name" placeholder="Title of Assignment" name="name" required><div ng-messages="$ctrl.formName.name.$error"><p ng-message="required" ng-if="$ctrl.formName.name.$error.required && $ctrl.formName.name.$touched">Please enter title</p></div></md-input-container></div><!-- /.assignment-create__input-container --><div class="assignment-create__input-container"><md-input-container md-no-float><textarea type="text" ng-model="$ctrl.assignment.description" placeholder="Description" name="description" required></textarea><div ng-messages="$ctrl.formName.description.$error"><p ng-message="required" ng-if="$ctrl.formName.description.$error.required && $ctrl.formName.description.$touched">Please enter description</p></div></md-input-container></div><!-- /.assignment-create__input-container --><div class="assignment-create__input-container">Due Date<md-datepicker ng-model="$ctrl.assignment.dueDate" md-placeholder="Due Date" md-min-date="$ctrl.minDate" md-max-date="$ctrl.maxDate" name="dueDate" required></md-datepicker><div ng-messages="$ctrl.formName.dueDate.$error"><div ng-message="required" ng-if="$ctrl.formName.dueDate.$error.required && $ctrl.formName.dueDate.$touched">Please enter a due date</div></div></div><!-- /.assignment-create__input-container --></div><!-- /.assignment-create__block --><md-divider></md-divider><div class="assignment-create__block"><div class="assignment-create__subheader"><h2 class="md-title">Type of Assignment</h2></div><!-- /.assignment-create__subheader --><md-select name="kind" required placeholder="Select Assignment Type" class="md-no-underline" ng-model="$ctrl.assignment.kind" ng-change="$ctrl.updateKind()" ng-disabled="($ctrl.assignmentId !== undefined || $ctrl.disableType)"><md-option value="{{$ctrl.constants.QUESTION_CREATE}}">Create Questions Assignment</md-option><md-option value="{{$ctrl.constants.QUESTION_REVIEW}}">Review Assignment</md-option><md-option value="{{$ctrl.constants.QUESTION_REVISION}}">Question Edit Assignment</md-option></md-select><div ng-messages="$ctrl.formName.kind.$error"><p ng-message="required" class="form-error" ng-if="$ctrl.formName.kind.$error.required && $ctrl.formName.kind.$touched">Please select an assignment type</p></div><section ng-if="$ctrl.assignment.kind === $ctrl.constants.QUESTION_CREATE"><div class="assignment-create__criteria"><div class="assignment-create__ctrl-holder"><div class="assignment-create__ctrl-holder-label"><label>Number of questions needed</label></div><!-- /.assignment-create__ctrl-holder-label --><div class="assignment-create__ctrl-holder-input"><md-input-container md-no-float><input ng-model="$ctrl.assignment.questionsNeededPerAuthor" placeholder="Number of questions required" type="number" name="questionsNeededPerAuthor" min="1" step="1" ng-value="1" required><div ng-messages="$ctrl.formName.questionsNeededPerAuthor.$error"><div class="form-error" ng-message="required" ng-if="$ctrl.formName.questionsNeededPerAuthor.$error.required && $ctrl.formName.questionsNeededPerAuthor.$touched">Please enter the questions needed</div></div></md-input-container></div><!-- /.assignment-create__ctrl-holder-input --></div><!-- /.assignment-create__ctrl-holder --><div class="assignment-create__ctrl-holder"><div class="assignment-create__ctrl-holder-label"><label>Type of questions needed</label></div><!-- /.assignment-create__ctrl-holder-label --><div class="assignment-create__ctrl-holder-input"><md-input-container md-no-float><md-select aria-label="Type" name="questionType" ng-model="$ctrl.assignment.questionType" required placeholder="Select question type*"><md-option ng-repeat="type in $ctrl.questionTypes" ng-value="type.value">{{type.name}}</md-option></md-select><div ng-messages="$ctrl.formName.questionType.$error"><p ng-message="required" class="form-error" ng-if="$ctrl.formName.questionType.$error.required && $ctrl.formName.questionType.$touched">Please select an assignment type</p></div></md-input-container></div><!-- /.assignment-create__ctrl-holder-input --></div><!-- /.assignment-create__ctrl-holder --></div><!-- /.assignment-create__criteria --></section><section ng-if="$ctrl.assignment.kind === $ctrl.constants.QUESTION_REVIEW"><div class="assignment-create__criteria"><section ng-if="$ctrl.items.length === 0"><div flex>This assignment currently has no items to review</div><div flex layout="row" layout-align="center center" layout-align-gt-xs="end center"><md-button class="md-raised md-primary" ng-click="$ctrl.addReviewItems()">Add</md-button></div></section><md-list ng-cloak class="question-display-list" name="reviewItems"><md-list-item ng-repeat="question in $ctrl.items" class="question-display-list__item"><span class="question-display-list__text"><h3>{{question.customId| numberFixedLen:5}}</h3><p>{{question.stem + " " + question.question| htmlFilter |characters: $ctrl.wordLimit(question)}} <a ng-if="!question.moreShown && $ctrl.hasMore(question)" ng-click="$ctrl.showMore(question, $event)">More</a> <a ng-if="question.moreShown" ng-click="$ctrl.showLess(question, $event)">Less</a></p></span><span><md-button class="md-icon-button" aria-label="View" ng-click="$ctrl.preview(question, $event)"><md-tooltip md-direction="top">View</md-tooltip><ng-md-icon icon="remove_red_eye"></ng-md-icon></md-button></span><span><md-button class="md-icon-button" aria-label="Remove" ng-click="$ctrl.removeData($ctrl.items, question)"><md-tooltip md-direction="top">Remove</md-tooltip><ng-md-icon icon="clear"></ng-md-icon></md-button></span><md-divider></md-divider></md-list-item></md-list><div ng-messages="$ctrl.formName.reviewItems.$error"><p class="form-error" ng-if="$ctrl.formControl.reviewItems && $ctrl.items.length === 0">Please add review item(s) to assign</p></div><div class="create-count-footer" ng-if="$ctrl.items.length"><div class="create-count-footer__col create-count-footer__col--count"><ng-pluralize count="$ctrl.items.length" when="{'0': '','one': '1 Item','other': '{} Items'}"></ng-pluralize></div><!-- /.create-count-footer__col --><div class="create-count-footer__col create-count-footer__col--button"><md-button class="md-fab md-mini md-primary" ng-if="$ctrl.items.length > 0" ng-click="$ctrl.addReviewItems()"><md-tooltip md-direction="top">Add Items</md-tooltip><ng-md-icon icon="add" aria-label="Add"></ng-md-icon></md-button></div><!-- /.create-count-footer__col --></div><!-- /.create-count-footer --></div><!-- /.assignment-create__criteria --></section><section ng-if="$ctrl.assignment.kind === $ctrl.constants.QUESTION_REVISION"><div class="assignment-create__criteria"><section ng-if="$ctrl.items.length === 0"><div flex>This assignment currently has no revision items</div><div flex layout="row" layout-align="center center" layout-align-gt-xs="end center"><md-button class="md-raised md-primary" ng-click="$ctrl.addReviewItems()">Add</md-button></div></section><md-list ng-cloak class="question-display-list" name="revisionItems"><md-list-item ng-repeat="question in $ctrl.items" class="question-display-list__item"><span class="question-display-list__text"><h3>{{question.customId| numberFixedLen:5}}</h3><p>{{question.stem + " " + question.question| htmlFilter}}</p></span><span><md-button class="md-icon-button" aria-label="View" ng-click="$ctrl.preview(question, $event)"><md-tooltip md-direction="top">View</md-tooltip><ng-md-icon icon="remove_red_eye"></ng-md-icon></md-button></span><span><md-button class="md-icon-button" aria-label="Remove" ng-click="$ctrl.removeData($ctrl.items, question)"><md-tooltip md-direction="top">Remove</md-tooltip><ng-md-icon icon="clear"></ng-md-icon></md-button></span><md-divider></md-divider></md-list-item></md-list><div ng-messages="$ctrl.formName.revisionItems.$error"><p class="form-error" ng-if="$ctrl.formControl.revisionItems && $ctrl.items.length === 0">Please add revision item(s) to assign</p></div><div class="create-count-footer" ng-if="$ctrl.items.length"><div class="create-count-footer__col create-count-footer__col--count"><ng-pluralize count="$ctrl.items.length" when="{'0': '','one': '1 Item','other': '{} Items'}"></ng-pluralize></div><!-- /.create-count-footer__col --><div class="create-count-footer__col create-count-footer__col--button"><md-button class="md-fab md-mini md-primary" ng-if="$ctrl.items.length > 0" ng-click="$ctrl.addReviewItems()"><md-tooltip md-direction="top">Add Items</md-tooltip><ng-md-icon icon="add" aria-label="Add"></ng-md-icon></md-button></div><!-- /.create-count-footer__col --></div><!-- /.create-count-footer --></div><!-- /.assignment-create__criteria --></section></div><!-- /.assignment-create__block --><md-divider></md-divider><div class="assignment-create__block"><div class="assignment-create__subheader"><h2 class="md-title">Authoring Guide</h2></div><!-- /.assignment-create__subheader --><section ng-if="!ctrl.pdfUploaded"><div flex layout="row" ng-if="$ctrl.showAddGuide"><div flex>This assignment currently has no authoring guide</div><div flex layout="row" layout-align="end center"><md-button ng-click="$ctrl.addGuide($event)" class="md-raised md-primary">Add</md-button></div></div><div ng-if="$ctrl.assignment.reviewGuideId"><div flex layout="row" layout-align="end center"><div flex>{{$ctrl.pdfFile.data.name}}</div><md-button aria-label="Remove" class="md-icon-button" ng-click="$ctrl.removeGuide($event)"><md-tooltip md-direction="top">Remove</md-tooltip><ng-md-icon icon="clear"></ng-md-icon></md-button></div></div></section></div><!-- /.assignment-create__block --><md-divider></md-divider><div class="assignment-create__block"><div class="assignment-create__subheader"><h2 class="md-title">Assignees</h2></div><!-- /.assignment-create__subheader --><qb-assignees assignment="$ctrl.assignment" items="$ctrl.items"></qb-assignees><div ng-messages="$ctrl.formName.assignees.$error"><p class="form-error" ng-if="$ctrl.formControl.assignees && $ctrl.assignment.assignees.length === 0">Please add assignees</p></div></div><!-- /.assignment-create__block --><md-divider></md-divider></md-content></div><!-- /.assignment-create --></div><!-- /.assignment-create-group --></div><!-- /bg --></div><!-- /row --></div><!-- /.main-body-container -->