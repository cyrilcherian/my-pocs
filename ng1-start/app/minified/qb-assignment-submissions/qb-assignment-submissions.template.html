<md-content ng-cloak class="submissions" ng-cloak><md-divider></md-divider><md-list class="assignment-user-submission-list"><md-list-item ng-repeat="assignee in $ctrl.assignment.assignees" ng-click="$ctrl.loadSubmissionDetails($event, assignee)" ng-if="!$ctrl.isSubmissionOpen()"><!--
             <span class="assignment-user-submission-list__check">
             <md-checkbox ng-model="message.selected"></md-checkbox>
             </span>
            --><div class="assignment-user-submission-list__button"><span class="assignment-user-submission-image"><!-- <img ng-src="{{assignee.profile}}" /> --> <img ng-src="{{user.avatar? user.avatar : 'app/resources/images/placeholder-avatar.png'}}" alt="{{user.name}}"></span><p class="assignment-user-submission-list__name">{{assignee.name}}</p><span flex></span> <span class="assignment-user-submission-list__status">{{$ctrl.getAssigneeStatus(assignee).status}}<!--   {{$ctrl.getAssigneeStatus(assignee).date| date:'MM/dd/yyyy'}}  --></span><div class="assignment-user-submission-list-aside-count" ng-if="$ctrl.assignment.kind === 'QuestionCreation'"><span class="aside-count-numerator" ng-if="assignee.items">{{assignee.items.length| number:0}}</span> <span class="aside-count-numerator" ng-if="!assignee.items">0</span> <span class="aside-count-divider">/</span> <span class="aside-count-denominator">{{$ctrl.assignment.questionsNeededPerAuthor| number:0}}</span></div></div><md-divider></md-divider></md-list-item></md-list><div ng-if="$ctrl.isSubmissionOpen()"><div layout="column" ng-if="$ctrl.canApprove()" flex layout-wrap><div class="assignment-user-submission-list__user-header"><span class="assignment-user-submission-image"><!-- <img ng-src="{{$ctrl.getSelectedAssignee().profile}}" />--> <img ng-src="{{user.avatar? user.avatar : 'app/resources/images/placeholder-avatar.png'}}" alt="{{user.name}}"></span><p class="assignment-user-submission-list__name">{{$ctrl.getSelectedAssignee().name}}</p><span flex></span> <span class="assignment-user-submission-list__status"><span flex>{{$ctrl.getAssigneeStatus($ctrl.getSelectedAssignee()).status}} {{$ctrl.getAssigneeStatus($ctrl.getSelectedAssignee()).date | date:'MM/dd/yyyy'}}</span></span></div><!-- /.assignment-user-submission-list__user-header --><md-divider></md-divider><md-list ng-cloak class="question-display-list"><md-list-item class="question-display-list__item" ng-if="$ctrl.getSelectedAssignee() && (!$ctrl.getSelectedAssignee().items)"><span class="question-display-list__text" flex><h3>No questions submitted</h3></span><md-divider></md-divider></md-list-item><md-list-item ng-repeat="item  in $ctrl.getSelectedAssignee().items" class="question-display-list__item"><span class="question-display-list__text" flex><h3>{{item.customId| numberFixedLen:5}}</h3><p>{{item.stem + " " + item.question| htmlFilter}}</p></span><span>{{item.status}}</span><md-button class="md-primary md-raised" aria-label="View" ng-click="$ctrl.loadPreview($event, item)">View</md-button><md-divider></md-divider></md-list-item></md-list></div><div class="assignment-user-submission-buttons" layout="row" flex><div ng-if="$ctrl.canApprove()"><md-button ng-if="$ctrl.getAssigneeStatus($ctrl.getSelectedAssignee()).status == 'SUBMITTED'" class="md-raised md-primary" ng-click="$ctrl.returnAssignment($event, $ctrl.getSelectedAssignee())">{{$ctrl.isReviewAssignment() ? 'Return To Reviewer' : 'Return To Author'}}</md-button><md-button ng-if="$ctrl.getAssigneeStatus($ctrl.getSelectedAssignee()).status != 'COMPLETED'" class="md-raised md-primary" ng-click="$ctrl.completeForAssignee($event, $ctrl.getSelectedAssignee())">Mark Completed</md-button></div><span flex></span><md-button class="md-button md-primary" aria-label="Back" ng-click="$ctrl.cancelAssignment($event, $ctrl.getSelectedAssignee())"><ng-md-icon icon="arrow_back"></ng-md-icon>Back to all submissions</md-button></div><!-- /.assignment-user-submission-buttons --></div><div class="assignment-user-submission-buttons" layout="row" flex ng-if="$ctrl.showAssignmentComplete()"><md-button class="md-raised md-primary" ng-click="$ctrl.completeAssignment($event)">Complete Assignment</md-button></div><!-- /.assignment-user-submission-buttons --><div class="assignment-user-submission-buttons" layout="row" flex ng-if="$ctrl.showAssignmentAction()"><md-button class="md-raised md-primary" ng-click="$ctrl.doAssignmentAction($event)">Assignment Actions</md-button></div><!-- /.assignment-user-submission-buttons --></md-content>